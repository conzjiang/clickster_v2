<script>
  WebFont.load({
    google: {
      families: ["Roboto"]
    }
  });
</script>

<main>
  <header>
    <nav class="group"></nav>
  </header>

  <section class="main"></section>

  <div class="banner"></div>
  <div class="cover"></div>
</main>

<script>
  $(function () {
    Clickster.FbAppId = "<%= ENV['FB_APP_ID'] %>";
    Clickster.DECADES = <%= TvDecade.decades_list.to_json.html_safe %>
    Clickster.GENRES = <%= TvGenre.genres_list.to_json.html_safe %>
    Clickster.TV_STATUSES = <%= TvShow.statuses_list.to_json.html_safe %>
    Clickster.LIST_STATUSES = <%= Watchlist.statuses_list.to_json.html_safe %>
    Clickster.genreExceptions = <%= @genre_exceptions.to_json.html_safe %>

    Clickster.initialize({
      $navbar: $("nav"),
      $rootEl: $(".main"),
      $banner: $(".banner")
    });

    <% if signed_in? %>
    Clickster.currentUser.fetch();
    <% end %>
  });
</script>

<script id="tv_shows">
  <% tv_shows = TvShow.all.map do |tv_show| %>
    <% { id: tv_show.id, title: tv_show.title, pattern: tv_show.title } %>
  <% end %>

  <%= tv_shows.to_json.html_safe %>
</script>

<script id="users">
  <% users = User.all.map do |user| %>
    <% { id: user.id, pattern: user.username } %>
  <% end %>

  <%= users.to_json.html_safe %>
</script>